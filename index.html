<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultra Arş BoxPvP</title>

<style>
body{
    margin:0;
    font-family:Segoe UI;
    background:linear-gradient(135deg,#0f0f0f,#1c1c1c);
    color:white;
    text-align:center;
}
.glass{
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(10px);
    padding:20px;
    margin:20px auto;
    border-radius:15px;
    width:90%;
    max-width:600px;
    box-shadow:0 0 20px #00ffff22;
}
h2{
    color:#00ffff;
    text-shadow:0 0 15px #00ffff;
}
input,button{
    padding:10px;
    margin:5px;
    border-radius:8px;
    border:none;
}
button{
    cursor:pointer;
    font-weight:bold;
}
.neon{
    background:#00ffff;
    color:black;
}
.vip{background:gold;color:black;}
.lvip{background:deepskyblue;}
.mvip{background:red;color:white;}
.admin{background:#ff4444;}
.casebtn{background:purple;color:white;}
.hidden{display:none;}
</style>
</head>
<body>

<h2>Ultra Arş BoxPvP Panel</h2>
<div>Online: <span id="online">0</span></div>

<div class="glass" id="authBox">
<h3>Kayıt / Giriş</h3>
<input id="nick" placeholder="Nick">
<input id="pass" type="password" placeholder="Şifre">
<br>
<button class="neon" onclick="auth()">Giriş / Kayıt</button>
</div>

<div class="glass hidden" id="panel">
<h3 id="welcome"></h3>
<p>Coin: <span id="coin"></span></p>
<p>Level: <span id="level"></span> | XP: <span id="xp"></span>/100</p>
<p>Rank: <span id="rank"></span></p>
<p>Streak: <span id="streak"></span> gün</p>

<button onclick="daily()">Daily</button>
<button onclick="vote()">Vote</button>
<button onclick="transfer()">Coin Transfer</button>

<h4>VIP</h4>
<button class="vip" onclick="buyRank('VIP',50,5)">VIP</button>
<button class="lvip" onclick="buyRank('LVIP',100,10)">LVIP</button>
<button class="mvip" onclick="buyRank('MVIP',150,20)">MVIP</button>

<h4>Kasa</h4>
<button class="casebtn" onclick="openCase()">Kasa Aç (40)</button>
<p id="caseResult"></p>

<h4>Battle Pass</h4>
<button onclick="battlePass()">+20 XP</button>

<h4>Liderlik</h4>
<div id="leaderboard"></div>

<div id="adminPanel" class="hidden">
<h4>ADMIN PANEL</h4>
<input id="giveNick" placeholder="Nick">
<input id="giveCoin" placeholder="Coin">
<button class="admin" onclick="giveCoin()">Coin Ver</button>
</div>

</div>

<script>

let users=JSON.parse(localStorage.getItem("ultraUsers"))||{};
let current=null;

function save(){
localStorage.setItem("ultraUsers",JSON.stringify(users));
}

function fakeHash(str){
return btoa(str+"ultraSalt");
}

function auth(){
let nick=document.getElementById("nick").value;
let pass=document.getElementById("pass").value;
if(!nick||!pass)return alert("Boş bırakma");

if(!users[nick]){
users[nick]={
pass:fakeHash(pass),
coin:100,
xp:0,
level:1,
rank:"Oyuncu",
bonus:0,
lastDaily:0,
streak:0
};
}else{
if(users[nick].pass!==fakeHash(pass))
return alert("Şifre yanlış!");
}

current=nick;
save();
loadPanel();
}

function loadPanel(){
document.getElementById("authBox").classList.add("hidden");
document.getElementById("panel").classList.remove("hidden");
document.getElementById("welcome").innerText="Hoşgeldin "+current;
update();
if(current==="NexLight" && document.getElementById("pass").value==="sunucusifresi123")
document.getElementById("adminPanel").classList.remove("hidden");
updateOnline();
}

function update(){
let u=users[current];
if(u.coin<0)u.coin=0;
document.getElementById("coin").innerText=u.coin;
document.getElementById("xp").innerText=u.xp;
document.getElementById("level").innerText=u.level;
document.getElementById("rank").innerText=u.rank;
document.getElementById("streak").innerText=u.streak;
updateLeaderboard();
}

function addXP(amount){
let u=users[current];
u.xp+=amount;
if(u.xp>=100){
u.level++;
u.xp=0;
u.coin+=50;
}
save();
update();
}

function daily(){
let u=users[current];
let now=Date.now();
if(now-u.lastDaily<86400000)return alert("Zaten aldın");
u.lastDaily=now;
u.coin+=20+u.bonus;
u.streak++;
addXP(10);
save();
update();
}

function vote(){
users[current].coin+=10+users[current].bonus;
addXP(5);
save();
update();
}

function buyRank(r,p,b){
let u=users[current];
if(u.coin<p)return alert("Yetersiz");
u.coin-=p;
u.rank=r;
u.bonus=b;
save();
update();
}

function openCase(){
let u=users[current];
if(u.coin<40)return alert("Yetersiz");
u.coin-=40;
let reward=[20,50,100,200];
let win=reward[Math.floor(Math.random()*reward.length)];
u.coin+=win;
document.getElementById("caseResult").innerText="Kazandın: "+win;
addXP(15);
save();
update();
}

function battlePass(){
addXP(20);
}

function transfer(){
let to=prompt("Nick:");
let amount=parseInt(prompt("Coin:"));
if(users[to] && users[current].coin>=amount){
users[current].coin-=amount;
users[to].coin+=amount;
save();
update();
}
}

function giveCoin(){
let n=document.getElementById("giveNick").value;
let c=parseInt(document.getElementById("giveCoin").value);
if(users[n]){
users[n].coin+=c;
save();
updateLeaderboard();
}
}

function updateLeaderboard(){
let sorted=Object.entries(users)
.sort((a,b)=>b[1].coin-a[1].coin);
let html="";
sorted.forEach(u=>{
html+=u[0]+" - "+u[1].coin+"<br>";
});
document.getElementById("leaderboard").innerHTML=html;
}

function updateOnline(){
document.getElementById("online").innerText=
Object.keys(users).length + Math.floor(Math.random()*5);
}

updateOnline();

</script>

</body>
</html>
