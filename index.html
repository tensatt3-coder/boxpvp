<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultra BoxPvP Panel</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0f0f0f;
    color:white;
    text-align:center;
}

h2{
    color:#00ffff;
    text-shadow:0 0 10px #00ffff;
}

button{
    padding:10px 20px;
    margin:5px;
    border:none;
    border-radius:5px;
    cursor:pointer;
    font-weight:bold;
}

.vip{background:gold;color:black;}
.lvip{background:deepskyblue;}
.mvip{background:red;color:white;}
.market{background:#00ff99;}
.case{background:purple;color:white;}
.adminbtn{background:#ff4444;}

input{
    padding:8px;
    margin:5px;
    border-radius:5px;
    border:none;
}

.panel{
    display:none;
    padding:20px;
}

.box{
    background:#1a1a1a;
    margin:15px;
    padding:15px;
    border-radius:10px;
    box-shadow:0 0 15px #00ffff33;
}

.leaderboard{
    background:#111;
    padding:10px;
    border-radius:10px;
    margin-top:15px;
}

.adminpanel{
    display:none;
    background:#220000;
    padding:15px;
    border-radius:10px;
    margin-top:15px;
}

.online{
    position:fixed;
    top:10px;
    right:20px;
    color:#00ff99;
}
</style>
</head>
<body>

<div class="online">Online: <span id="onlineCount">0</span></div>

<div id="login">
<h2>Ultra BoxPvP Giriş</h2>
<input type="text" id="nick" placeholder="Nick">
<input type="password" id="adminPass" placeholder="Admin Şifre">
<br>
<button onclick="login()">Giriş Yap</button>
</div>

<div class="panel" id="panel">

<h2 id="welcome"></h2>

<div class="box">
<p>Coin: <span id="coin">0</span></p>
<p>Rank: <span id="rank">Oyuncu</span></p>
<button onclick="vote()">Oy Ver (+10)</button>
<button onclick="daily()">Günlük (+20)</button>
</div>

<div class="box">
<h3>VIP Paketler</h3>
<button class="vip" onclick="buyRank('VIP',50,5)">VIP - 50</button>
<button class="lvip" onclick="buyRank('LVIP',100,10)">LVIP - 100</button>
<button class="mvip" onclick="buyRank('MVIP',150,20)">MVIP - 150</button>
</div>

<div class="box">
<h3>Market</h3>
<button class="market" onclick="buyItem(30)">Sharpness Kit - 30</button>
<button class="market" onclick="buyItem(60)">God Apple - 60</button>
</div>

<div class="box">
<h3>Kasa Aç</h3>
<button class="case" onclick="openCase()">Kasa Aç (40 Coin)</button>
<p id="caseResult"></p>
</div>

<div class="leaderboard">
<h3>Liderlik</h3>
<div id="leaderboard"></div>
</div>

<div class="adminpanel" id="adminPanel">
<h3>ADMIN PANEL</h3>
<input type="text" id="giveNick" placeholder="Nick">
<input type="number" id="giveCoin" placeholder="Coin">
<button class="adminbtn" onclick="giveCoin()">Coin Ver</button>
</div>

</div>

<script>

let users = JSON.parse(localStorage.getItem("users")) || {};
let currentUser = null;

function save(){
    localStorage.setItem("users", JSON.stringify(users));
}

function updateOnline(){
    document.getElementById("onlineCount").innerText =
    Object.keys(users).length;
}

function login(){
    let nick=document.getElementById("nick").value;
    let pass=document.getElementById("adminPass").value;

    if(!nick) return alert("Nick gir!");

    if(!users[nick]){
        users[nick]={
            coin:100,
            rank:"Oyuncu",
            voted:false,
            lastDaily:0,
            bonus:0
        };
    }

    currentUser=nick;

    document.getElementById("login").style.display="none";
    document.getElementById("panel").style.display="block";
    document.getElementById("welcome").innerText="Hoşgeldin "+nick;

    if(nick==="NexLight" && pass==="sunucusifresi123"){
        document.getElementById("adminPanel").style.display="block";
    }

    save();
    update();
    updateOnline();
}

function update(){
    document.getElementById("coin").innerText=users[currentUser].coin;
    document.getElementById("rank").innerText=users[currentUser].rank;
    updateLeaderboard();
}

function vote(){
    if(users[currentUser].voted) return alert("Zaten oy verdin!");
    users[currentUser].coin+=10+users[currentUser].bonus;
    users[currentUser].voted=true;
    save();
    update();
}

function daily(){
    let now=Date.now();
    if(now-users[currentUser].lastDaily<86400000)
        return alert("Günlük aldın!");

    users[currentUser].coin+=20+users[currentUser].bonus;
    users[currentUser].lastDaily=now;
    save();
    update();
}

function buyRank(rank,price,bonus){
    if(users[currentUser].coin<price)
        return alert("Yetersiz coin!");

    users[currentUser].coin-=price;
    users[currentUser].rank=rank;
    users[currentUser].bonus=bonus;
    save();
    update();
}

function buyItem(price){
    if(users[currentUser].coin<price)
        return alert("Yetersiz coin!");
    users[currentUser].coin-=price;
    save();
    update();
    alert("Satın alındı!");
}

function openCase(){
    if(users[currentUser].coin<40)
        return alert("Yetersiz coin!");

    users[currentUser].coin-=40;

    let reward=Math.floor(Math.random()*100);
    let win;

    if(reward<50){ win=20; }
    else if(reward<80){ win=50; }
    else{ win=100; }

    users[currentUser].coin+=win;
    document.getElementById("caseResult").innerText=
    "Kazandın: "+win+" coin!";
    save();
    update();
}

function giveCoin(){
    let nick=document.getElementById("giveNick").value;
    let coin=parseInt(document.getElementById("giveCoin").value);

    if(users[nick]){
        users[nick].coin+=coin;
        save();
        updateLeaderboard();
        alert("Coin verildi!");
    }
}

function updateLeaderboard(){
    let sorted=Object.entries(users)
    .sort((a,b)=>b[1].coin-a[1].coin);

    let html="";
    sorted.forEach(u=>{
        html+=u[0]+" - "+u[1].coin+" coin<br>";
    });

    document.getElementById("leaderboard").innerHTML=html;
}

updateOnline();

</script>

</body>
</html>
